import{j as e}from"./ui-core-DSsgHKQi.js";import{r as L}from"./react-core-C2Lho-Ro.js";import{C as h,a as f,b as u,c as y,d as j}from"./card-D01js5Yw.js";import{T as ee,a as se,b as k,c as V}from"./tabs-BdzKwmyA.js";import{E as Fe,S as te,a as ae,b as ne,c as re,d as D}from"./enhanced-page-header-Cial-IQU.js";import{a as Se,B as c,c as v,J as P,s as q}from"./index-CwoeutiG.js";import{u as O}from"./form-DucUJAz-.js";import{D as ie,I as W,N as le,O as oe,Q as Le,l as De,L as Re,V as R,W as _,F as Me,Y as $e,z as Te,p as ze}from"./utils-D1Dv2Yo8.js";import{m as M}from"./animation-CC1ogdXw.js";import{R as g,e as Be,C as $,X as T,Y as N,T as b,f as Q,A as ce,a as K,P as de,b as xe,c as G,B as me,g as Pe,h as _e,i as Ke,j as Ee,k as Ie,l as Ve,L as qe,d as he}from"./data-viz-DCuZCixt.js";import{f as z}from"./format-BEMO4FpZ.js";import"./auth-D43A8yQe.js";function as(){const[d,fe]=L.useState("attendance"),[E,ue]=L.useState("all"),[C,je]=L.useState(z(new Date,"yyyy-MM")),[ye,pe]=L.useState("charts"),[m,U]=L.useState([]),l=Se(),{data:B=[],isLoading:ge}=O({queryKey:["students"],queryFn:async()=>{let s=q.from("students").select("*");E!=="all"&&(s=s.eq("class",parseInt(E)));const{data:a,error:i}=await s;if(i)throw i;return a||[]}}),{data:Y=[],isLoading:be}=O({queryKey:["attendance_report",C],queryFn:async()=>{const[s,a]=C.split("-"),i=`${C}-01`,o=`${C}-${new Date(parseInt(s),parseInt(a),0).getDate()}`,{data:r,error:x}=await q.from("attendance_records").select("*").gte("date",i).lte("date",o);if(x)throw x;return r||[]}}),{data:H=[],isLoading:we}=O({queryKey:["fee_transactions"],queryFn:async()=>{const{data:s,error:a}=await q.from("fee_transactions").select("*");if(a)throw a;return s||[]}}),J=()=>{const s={};B.forEach(t=>{const n=`Class ${t.class}`;s[n]||(s[n]={total:0,present:0}),s[n].total++});const a=Object.keys(s).map(t=>{const n=B.filter(S=>`Class ${S.class}`===t),I=n.reduce((S,Ae)=>S+Ae.attendance_percentage,0)/n.length;return{name:t,value:Math.round(I),fill:`hsl(${Math.random()*360}, 70%, 60%)`}}),i={};Y.forEach(t=>{const n=t.date;i[n]||(i[n]={total:0,present:0}),i[n].total++,t.status==="Present"&&i[n].present++});const o=Object.keys(i).sort().map(t=>{const{total:n,present:I}=i[t],S=n>0?Math.round(I/n*100):0;return{date:z(new Date(t),"dd MMM"),percentage:S,students:n}}),r=Y.reduce((t,n)=>(t[n.status]||(t[n.status]=0),t[n.status]++,t),{}),x=Object.keys(r).map(t=>({name:t,value:r[t],fill:t==="Present"?"#30D158":t==="Absent"?"#FF3B30":t==="Leave"?"#FF9F0A":"#8E8E93"})),Z=Array(7).fill(0).map((t,n)=>({day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n],attendance:Math.random()*40+60}));return{attendanceByClass:a,attendanceTrend:o,statusDistribution:x,weeklyPattern:Z}},ke=()=>{const s={};H.forEach(t=>{const n=z(new Date(t.date),"MMM yyyy");s[n]||(s[n]=0),s[n]+=t.amount});const a=Object.keys(s).sort((t,n)=>new Date(t).getTime()-new Date(n).getTime()).map(t=>({name:t,amount:s[t]})),i=H.reduce((t,n)=>(t[n.payment_mode]||(t[n.payment_mode]=0),t[n.payment_mode]+=n.amount,t),{}),o=Object.keys(i).map((t,n)=>({name:t,value:i[t],fill:["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"][n%5]})),r={};B.forEach(t=>{const n=`Class ${t.class}`;r[n]||(r[n]={total:0,paid:0,pending:0}),r[n].total+=t.total_fees,r[n].paid+=t.paid_fees,r[n].pending+=t.total_fees-t.paid_fees});const x=Object.keys(r).sort().map(t=>({name:t,paid:r[t].paid,pending:r[t].pending,total:r[t].total}));return{feesByMonth:a,feesDistributionByMode:o,feesByClass:x,quarterlyTrends:[{name:"Q1",actual:12e4,target:15e4},{name:"Q2",actual:18e4,target:17e4},{name:"Q3",actual:19e4,target:2e5},{name:"Q4",actual:21e4,target:22e4}]}},ve=()=>{try{let s="";if(d==="attendance"){s=`Class,Average Attendance %
`;const{attendanceByClass:r}=J();r.forEach(x=>{s+=`${x.name},${x.value}
`})}else d==="fees"&&(s=`Class,Total Fees,Collected Fees,Pending Fees,Collection %
`,B.forEach(r=>{const x=r.total_fees>0?Math.round(r.paid_fees/r.total_fees*100):0;s+=`Class ${r.class},${r.total_fees},${r.paid_fees},${r.total_fees-r.paid_fees},${x}%
`}));const a=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),o=document.createElement("a");o.setAttribute("href",i),o.setAttribute("download",`${d}_report_${z(new Date,"yyyyMMdd")}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),P.success(`${d.charAt(0).toUpperCase()+d.slice(1)} report exported successfully`)}catch(s){console.error("Export error:",s),P.error(`Failed to export ${d} report`)}},A=s=>{m.includes(s)?(U(m.filter(a=>a!==s)),P.info(`Removed "${s}" from favorites`)):(U([...m,s]),P.success(`Added "${s}" to favorites`))},w=J(),F=ke(),Ne=ge||be||we,Ce=[{name:"May 2023 Attendance",type:"attendance",date:"2023-05-30"},{name:"Q2 Fee Collection",type:"fees",date:"2023-06-15"},{name:"Class 10 Performance",type:"performance",date:"2023-06-10"}],X=({title:s,icon:a,isFavorite:i,onClick:o})=>e.jsxs(h,{className:v("relative overflow-hidden cursor-pointer transition-all hover:shadow-md",i?"border-yellow-300 border-2":""),onClick:o,children:[e.jsx(f,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(u,{className:"text-base font-medium",children:s}),a]})}),e.jsxs(j,{className:"p-4 pt-0",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last generated: ",z(new Date,"dd MMM yyyy")]}),e.jsxs("div",{className:"flex mt-3 gap-1",children:[e.jsxs(c,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(Oe,{className:"h-3 w-3 mr-1"})," View"]}),e.jsxs(c,{variant:"outline",size:"sm",className:"h-8",children:[e.jsx(ie,{className:"h-3 w-3 mr-1"})," Export"]}),e.jsx(c,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-auto",onClick:r=>{r.stopPropagation(),A(s)},children:e.jsx(R,{className:v("h-4 w-4",i?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]}),i&&e.jsx("div",{className:"absolute top-0 right-0",children:e.jsx("div",{className:"w-12 h-12 bg-yellow-300 rotate-45 translate-x-6 -translate-y-6"})})]})]}),p="h-[280px] px-0 sm:px-6 relative";return e.jsxs("div",{className:"space-y-6 animate-slide-up",children:[e.jsx(Fe,{title:"Reports & Analytics",description:"Comprehensive data visualizations and analysis",showBackButton:!0,action:e.jsxs(c,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:ve,size:l?"sm":"default",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),l?"Export":`Export ${d.charAt(0).toUpperCase()+d.slice(1)} Report`]})}),e.jsxs(ee,{defaultValue:"reports",className:"space-y-4",children:[e.jsxs(se,{children:[e.jsx(k,{value:"reports",children:"Reports"}),e.jsx(k,{value:"favorites",children:"Favorites"}),e.jsx(k,{value:"recent",children:"Recent"})]}),e.jsxs(V,{value:"reports",className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:[e.jsx(ee,{defaultValue:"attendance",onValueChange:s=>fe(s),orientation:"horizontal",className:"flex-1",children:e.jsxs(se,{className:"grid w-full grid-cols-3",children:[e.jsxs(k,{value:"attendance",children:[e.jsx(W,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Attendance"]}),e.jsxs(k,{value:"fees",children:[e.jsx(le,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Fees"]}),e.jsxs(k,{value:"performance",children:[e.jsx(oe,{className:"h-4 w-4 mr-2 hidden sm:inline"}),"Performance"]})]})}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsxs(te,{value:ye,onValueChange:pe,children:[e.jsxs(ae,{className:"w-[140px]",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),e.jsx(ne,{})]}),e.jsxs(re,{children:[e.jsx(D,{value:"charts",children:"Charts"}),e.jsx(D,{value:"tables",children:"Data Tables"}),e.jsx(D,{value:"summary",children:"Summary"})]})]}),e.jsxs(te,{value:E,onValueChange:ue,children:[e.jsx(ae,{className:"w-[140px]",children:e.jsx(ne,{placeholder:"Filter by class"})}),e.jsxs(re,{children:[e.jsx(D,{value:"all",children:"All Classes"}),Array.from({length:9},(s,a)=>a+2).map(s=>e.jsxs(D,{value:s.toString(),children:["Class ",s]},s))]})]})]})]}),e.jsx("div",{className:"flex mb-4",children:e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(De,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"month",value:C,onChange:s=>je(s.target.value),className:"w-full h-10 rounded-md border border-input bg-background pl-10 pr-3 py-2 text-sm"})]})}),Ne?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(Re,{className:"h-12 w-12 animate-spin text-primary"})}):e.jsxs(e.Fragment,{children:[d==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(h,{className:"md:col-span-2 overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Daily Attendance Trend"}),e.jsx(y,{children:"Attendance percentage for the selected month"})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>A("Daily Attendance Trend"),children:e.jsx(R,{className:v("h-4 w-4",m.includes("Daily Attendance Trend")?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(Be,{data:w.attendanceTrend,children:[e.jsx($,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(T,{dataKey:"date",tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{yAxisId:"left",domain:[0,100],tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{yAxisId:"right",orientation:"right",tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(b,{contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),e.jsx(Q,{}),e.jsx(ce,{type:"monotone",dataKey:"percentage",name:"Attendance %",stroke:"#0A84FF",fill:"rgba(10, 132, 255, 0.1)",strokeWidth:2,yAxisId:"left"}),e.jsx(K,{dataKey:"students",name:"Students",fill:"#30D158",radius:[4,4,0,0],yAxisId:"right"})]})})})]}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Attendance by Status"}),e.jsx(y,{children:"Distribution of attendance status"})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>A("Attendance by Status"),children:e.jsx(R,{className:v("h-4 w-4",m.includes("Attendance by Status")?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(de,{children:[e.jsx(xe,{data:w.statusDistribution,cx:"50%",cy:"50%",innerRadius:l?40:60,outerRadius:l?60:80,paddingAngle:5,dataKey:"value",label:({name:s,percent:a})=>{const i=typeof a=="number"?(a*100).toFixed(0):"0";return`${s} (${i}%)`},children:w.statusDistribution.map((s,a)=>e.jsx(G,{fill:s.fill},`cell-${a}`))}),e.jsx(b,{formatter:s=>[`${s} records`,""],contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}})]})})})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Class-wise Attendance"}),e.jsx(y,{children:"Average attendance percentage by class"})]}),e.jsx(c,{variant:"ghost",size:"icon",children:e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(me,{data:w.attendanceByClass,layout:"vertical",children:[e.jsx($,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(T,{type:"number",domain:[0,100],tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{dataKey:"name",type:"category",width:70,tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(b,{formatter:s=>typeof s=="number"?[`${s}%`,"Average Attendance"]:[s,"Average Attendance"],contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),e.jsx(K,{dataKey:"value",name:"Average Attendance",radius:[0,4,4,0],children:w.attendanceByClass.map((s,a)=>e.jsx(G,{fill:s.fill},`cell-${a}`))})]})})})]}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Weekly Attendance Pattern"}),e.jsx(y,{children:"Attendance trends by day of week"})]}),e.jsx(c,{variant:"ghost",size:"icon",children:e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(Pe,{cx:"50%",cy:"50%",outerRadius:l?"60%":"70%",data:w.weeklyPattern,children:[e.jsx(_e,{stroke:"#e0e0e0"}),e.jsx(Ke,{dataKey:"day",tick:{fill:"#888",fontSize:l?10:12}}),e.jsx(Ee,{angle:30,domain:[0,100],tick:{fill:"#888",fontSize:l?8:10}}),e.jsx(Ie,{name:"Attendance %",dataKey:"attendance",stroke:"#FF9F0A",fill:"#FF9F0A",fillOpacity:.6}),e.jsx(b,{formatter:s=>typeof s=="number"?[`${s.toFixed(1)}%`,"Attendance"]:[s,"Attendance"],contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}})]})})})]})]})]}),d==="fees"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(h,{className:"md:col-span-2 overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Monthly Fee Collection"}),e.jsx(y,{children:"Fees collected month by month"})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>A("Monthly Fee Collection"),children:e.jsx(R,{className:v("h-4 w-4",m.includes("Monthly Fee Collection")?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(Ve,{data:F.feesByMonth,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorAmount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#30D158",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#30D158",stopOpacity:.1})]})}),e.jsx($,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(T,{dataKey:"name",tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(b,{formatter:s=>{const a=typeof s=="string"?parseInt(s):s;return typeof a=="number"&&!isNaN(a)?[`₹${a.toLocaleString()}`,"Amount"]:[s,"Amount"]},contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),e.jsx(ce,{type:"monotone",dataKey:"amount",name:"Amount Collected",stroke:"#30D158",fillOpacity:1,fill:"url(#colorAmount)",strokeWidth:2})]})})})]}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Payment Modes"}),e.jsx(y,{children:"Distribution by payment method"})]}),e.jsx(c,{variant:"ghost",size:"icon",onClick:()=>A("Payment Modes"),children:e.jsx(R,{className:v("h-4 w-4",m.includes("Payment Modes")?"fill-yellow-400 text-yellow-400":"text-muted-foreground")})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(de,{children:[e.jsx(xe,{data:F.feesDistributionByMode,cx:"50%",cy:"50%",innerRadius:l?40:60,outerRadius:l?60:80,paddingAngle:5,dataKey:"value",label:({name:s,percent:a})=>{const i=typeof a=="number"?(a*100).toFixed(0):"0";return`${s} (${i}%)`},children:F.feesDistributionByMode.map((s,a)=>e.jsx(G,{fill:s.fill},`cell-${a}`))}),e.jsx(b,{formatter:s=>{const a=typeof s=="string"?parseInt(s):s;return typeof a=="number"&&!isNaN(a)?[`₹${a.toLocaleString()}`,"Amount"]:[s,"Amount"]},contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}})]})})})]})]}),e.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Fee Collection by Class"}),e.jsx(y,{children:"Paid vs pending fees for each class"})]}),e.jsx(c,{variant:"ghost",size:"icon",children:e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(me,{data:F.feesByClass,children:[e.jsx($,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(T,{dataKey:"name",tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(b,{formatter:s=>{const a=typeof s=="string"?parseInt(s):s;return typeof a=="number"&&!isNaN(a)?[`₹${a.toLocaleString()}`,"Amount"]:[s,"Amount"]},contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),e.jsx(Q,{}),e.jsx(K,{dataKey:"paid",name:"Paid Fees",stackId:"a",fill:"#30D158",radius:[4,4,0,0]}),e.jsx(K,{dataKey:"pending",name:"Pending Fees",stackId:"a",fill:"#FF3B30"})]})})})]}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(f,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Fee Collection Trends"}),e.jsx(y,{children:"Actual vs Target by quarter"})]}),e.jsx(c,{variant:"ghost",size:"icon",children:e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})})]})}),e.jsx(j,{className:p,children:e.jsx(g,{width:"100%",height:"100%",children:e.jsxs(qe,{data:F.quarterlyTrends,children:[e.jsx($,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(T,{dataKey:"name",tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(N,{tick:{fill:"#888"},axisLine:{stroke:"#e0e0e0"},tickLine:{stroke:"#e0e0e0"},fontSize:l?10:12}),e.jsx(b,{formatter:s=>{const a=typeof s=="string"?parseInt(s):s;return typeof a=="number"&&!isNaN(a)?[`₹${a.toLocaleString()}`,""]:[s,""]},contentStyle:{background:"rgba(255, 255, 255, 0.95)",border:"1px solid #f0f0f0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)"}}),e.jsx(Q,{}),e.jsx(he,{type:"monotone",dataKey:"actual",name:"Actual Collection",stroke:"#0A84FF",strokeWidth:2,dot:{stroke:"#0A84FF",strokeWidth:2,r:4},activeDot:{r:6}}),e.jsx(he,{type:"monotone",dataKey:"target",name:"Target Collection",stroke:"#FF9F0A",strokeDasharray:"5 5",strokeWidth:2,dot:{stroke:"#FF9F0A",strokeWidth:2,r:4},activeDot:{r:6}})]})})})]})]})]}),d==="performance"&&e.jsx(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs(h,{className:"col-span-full overflow-hidden",children:[e.jsx(f,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx(u,{children:"Performance Analytics"}),e.jsx(y,{children:"Student performance metrics and insights"})]})}),e.jsxs(j,{className:"h-[400px] flex flex-col items-center justify-center text-center",children:[e.jsx(Me,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Performance Reports Coming Soon"}),e.jsx("p",{className:"text-muted-foreground max-w-md",children:"Test scores and performance analytics will be available in the next update. This feature is currently under development."}),e.jsx(c,{className:"mt-4",variant:"outline",children:"Request Early Access"})]})]})})]})]}),e.jsx(V,{value:"favorites",children:m.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Favorite Reports"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Click the star icon on any report to add it to your favorites for quick access."})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:m.map(s=>e.jsx(X,{title:s,icon:e.jsx(W,{className:"h-4 w-4"}),isFavorite:!0,onClick:()=>{}},s))})}),e.jsx(V,{value:"recent",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Recently Generated Reports"}),e.jsxs(c,{variant:"ghost",size:"sm",children:[e.jsx(Te,{className:"h-4 w-4 mr-2"})," View History"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:Ce.map(s=>e.jsx(X,{title:s.name,icon:s.type==="attendance"?e.jsx(W,{className:"h-4 w-4"}):s.type==="fees"?e.jsx(le,{className:"h-4 w-4"}):e.jsx(oe,{className:"h-4 w-4"}),isFavorite:m.includes(s.name),onClick:()=>{}},s.name))})]})})]})]})}const Oe=d=>e.jsx(ze,{...d});export{as as default};
